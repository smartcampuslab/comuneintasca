<ion-side-menus>

  <ion-pane ion-side-menu-content>
    <ion-nav-bar class="bar-comuni nav-title-slide-ios7" id="navbar">
      <ion-nav-buttons side="left">
        <ion-nav-back-button class="button-clear button-dark">
          <i class="icon ion-ios7-arrow-back"></i>
        </ion-nav-back-button>
      </ion-nav-buttons>
      <ion-nav-buttons side="right" id="navbar2">
        <button menu-toggle="right" class="button button-icon icon ion-navicon"></button>
      </ion-nav-buttons>
    </ion-nav-bar>
    <ion-nav-view name="menuContent" animation="slide-left-right">
    </ion-nav-view>
  </ion-pane>

  <ion-side-menu side="right">
    <ion-header-bar class="bar-dark-comuni">
      <h1 class="title title-home" ng-bind-html="'app_title' | translate | nl2br"></h1>
    </ion-header-bar>
    <ion-content class="has-header content-calm">
      <ion-list>
        <ion-item nav-clear menu-close class="item-accordion" ng-click="goto('home')">
          <span ng-bind="'sidemenu_Home' | translate" class="comunimenu-home"></span>
        </ion-item>

        <div ng-if="menu" ng-repeat="(groupIndex, menuGroup) in menu">
          <ion-item class="item-header item-icon-right" ng-click="showGroup(groupIndex)">
            <b ng-bind="menuGroup.name | translate" class="comunimenu-{{menuGroup.id}}"></b>
            <i class="icon comunimenu-{{menuGroup.id}}" ng-class="{'ion-chevron-down': !isGroupShown(groupIndex), 'ion-chevron-up': isGroupShown(groupIndex)}"></i>
          </ion-item>
          <div ng-show="isGroupShown(groupIndex)">
            <ion-item ng-repeat="(itemIndex, menuItem) in menuGroup.items" nav-clear menu-close class="item-accordion" ng-href="#/app/{{getMenuPath(menuGroup,menuItem)}}">
              <span ng-bind="menuItem.name | translate"></span>
            </ion-item>
          </div>
        </div>

        <ion-item nav-clear menu-close class="item-accordion" ng-click="goto('favorites')">
          <span ng-bind="'sidemenu_Favourites' | translate" class="comunimenu-favorites"></span>
        </ion-item>
        <ion-item nav-clear menu-close class="item-accordion" ng-click="showSettings()">
          <span ng-bind="'settings_title' | translate" class="comunimenu-settings"></span>
        </ion-item>
        <ion-item nav-clear menu-close class="item-accordion" ng-click="showCredits()">
          <span ng-bind="'credits_title' | translate" class="comunimenu-credits"></span>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-side-menu>

</ion-side-menus>
